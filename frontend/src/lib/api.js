// src/lib/api.js
import axios from "axios";

export const API_URL = import.meta.env.VITE_API_URL || "http://localhost:8000";

export const api = axios.create({
  baseURL: API_URL,
  timeout: 8000,
});

// Safe GET helper (prevents crashes on errors)
export async function safeGet(path, fallback = null) {
  try {
    const { data } = await api.get(path);
    return data ?? fallback;
  } catch (e) {
    console.warn("safeGet error:", path, e?.message);
    return fallback;
  }
}
